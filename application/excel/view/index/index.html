<!DOCTYPE html>
<html>
<head>
  <link rel="stylesheet" href="__ROOT__/public/static/css/bootstrap.min.css">
  <link rel="stylesheet" href="__ROOT__/public/static/css/index.css">
  <link rel="stylesheet" href="__ROOT__/public/static/css/bootstrap-table.css">
  <link href="__ROOT__/public/static/css/bootstrap-datetimepicker.min.css" rel="stylesheet" media="screen">
  <script src="__ROOT__/public/static/js/jquery.min.js"></script>
  <script src="__ROOT__/public/static/js/bootstrap.min.js"></script>
  <script src="__ROOT__/public/static/js/bootstrap-table.js"></script>
  <script src="__ROOT__/public/static/js/bootstrap-table-zh-CN.js"></script>
  <script src="__ROOT__/public/static/js/bootstrap-table-export.js"></script>
  <script src="__ROOT__/public/static/js/tableExport.js"></script>
  <script type="text/javascript" src="__ROOT__/public/static/js/bootstrap-datetimepicker.js" charset="UTF-8"></script>
  <script type="text/javascript" src="__ROOT__/public/static/js/bootstrap-datetimepicker.zh-CN.js" charset="UTF-8"></script>
  <script src="__ROOT__/public/static/js/echarts.min.js"></script>
</head>
<body>
    <div class="container">
      <form action="__ROOT__/index.php/excel/index/upload" enctype="multipart/form-data" method="post">
      <input type="file" name="image" /> <br>
      <input type="submit" value="上传" />
      </form>
          <table id="table"> </table>

    </div>

<script>
    var $table = $('#table'),
        $search1 = $('#search1'),
        $btn_search1=$('#btn_search1'),
        $btn_search2=$('#btn_search2');
    initTable();

    function initTable() {
        $table.bootstrapTable({
            height: getHeight(),
            url:'__ROOT__/index.php/excel/Index/ab',
            queryParams: function (params) {
                return {

                  limit : params.limit,
                  offset : params.offset,
                  order : params.order,
                  ordername : params.sort
                };
            },
            //showHeader : true,
            //showColumns : true,
            //showRefresh : true,
            sortOrder : 'asc',
            // toolbar: "#toolbar",
            pagination: true,//分页
            sidePagination : 'server',//服务器端分页
            pageNumber : 1,
            pageSize   : 10,
            pageList: [10, 20, 50,300],//分页步进值
            columns: [
                {
                    field: 'id',//域值
                    title: '序号',//标题
                    visible: true,//false表示不显示
                    sortable: true,//启用排序
                    width : '5%',
                },
                {
                    field: 'text',//域值
                    title: '文件号',//标题
                    visible: true,//false表示不显示
                    sortable: true,//启用排序
                    width : '30%',

                },
                {
                    field: 'file',//域值
                    title: '文件名称',//内容
                    visible: true,//false表示不显示
                    sortable: true,//启用排序
                    width : '35%',

                },
                {
                    field: 'project',//域值
                    title: '工作号',//内容
                    visible: true,//false表示不显示
                    sortable: true,//启用排序
                    width : '10%',

                },
                {
                    field: 'department',//域值
                    title: '部门',//内容
                    visible: true,//false表示不显示
                    sortable: true,//启用排序
                    width : '20%',

                },
                {
                    field: 'date',//域值
                    title: '发出日期',//内容
                    visible: true,//false表示不显示
                    sortable: true,//启用排序
                    width : '10%',

                }
                  ]
        });

        $(window).resize(function () {
            $table.bootstrapTable('resetView', {
                height: getHeight()
            });
        });

    }



    function getHeight() {
        return $(window).height()-200; //$('h1').outerHeight(true)
    }







</script>
</body>
</html>
